/*
* jQuery Multi-Column-Select v0.1
*
* Copyright (c) 2014 DanSmith
*
* Licensed under MIT
*
*/
(function($){$.fn.MultiColumnSelect=function(options){var settings=$.extend({menuclass:"columnselect",openmenu:"openmenubutton",openmenutext:"Choose An Option",menucontainer:"menucontainer",menuitem:"menuitem",hideclass:"hidden",openclass:"open",clearclass:"clear",duration:200},options);$selector=this.selector;$control=$($selector+" select");$selectoptions=$($selector+" select option");$optioncount=0;$optionvals=[];$optionids=[];$control.addClass(settings.menuclass).addClass(settings.hideclass);$($selector).append("<a class='"+
settings.openmenu+"'>"+settings.openmenutext+"</a>\n\r\n                             <div class='"+settings.clearclass+"'></div>\n\r\n                             <div class='"+settings.menucontainer+"'></div>");$selectoptions.each(function(e){$optioncount+=1;$("."+settings.menucontainer).append("<a class='"+settings.menuitem+"' data='"+$(this).attr("value")+"'>"+$(this).text()+"</a>")});$($selector).delegate("a."+settings.menuitem,"click",function(e){$($selector).find("select").val($(this).attr("data"));
$("a."+settings.menuitem).removeClass("active");$(this).addClass("active");e.preventDefault()});$($selector).delegate("a."+settings.openmenu+"","click",function(e){if($(this).hasClass(settings.openclass)){$(this).removeClass(settings.openclass);$("."+settings.menucontainer).animate({height:0},settings.duration)}else{$(this).addClass(settings.openclass);$total=Math.round($optioncount/numberofcolumns("."+settings.menuitem));$blockheight=trueheight("."+settings.menuitem);$newheight=$total*$blockheight;
$("."+settings.menucontainer).animate({height:$newheight},settings.duration)}e.preventDefault()});return this};function trueheight(ele){var addheight=$(ele).outerHeight(true)-$(ele).innerHeight();var height=$(ele).height();return height+addheight}function numberofcolumns(ele){return Math.round(100/getwidthaspercent(ele))}function getwidthaspercent(ele){var width=$(ele).width();var parentWidth=$(ele).offsetParent().width();var percent=100*width/parentWidth;return Math.round(percent)}})(jQuery);
