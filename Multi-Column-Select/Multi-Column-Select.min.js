/*
* jQuery Multi-Column-Select v0.1
*
* Copyright (c) 2014 DanSmith
*
* Licensed under MIT
*
*/
!function(e){function t(t){var n=e(t).outerHeight(!0)-e(t).innerHeight(),o=e(t).height();return o+n}function n(e){return Math.round(100/o(e))}function o(t){var n=e(t).width(),o=e(t).offsetParent().width(),a=100*n/o;return Math.round(a)}e.fn.MultiColumnSelect=function(o){var a=e.extend({menuclass:"columnselect",openmenu:"openmenubutton",openmenutext:"Choose An Option",menucontainer:"menucontainer",menuitem:"menuitem",hideclass:"hidden",openclass:"open",clearclass:"clear",duration:200},o);return $selector=this.selector.replace(".",""),$control=e("."+$selector+" select"),$selectoptions=e("."+$selector+" select option"),$optioncount=0,$optionvals=[],$optionids=[],$control.addClass(a.menuclass).addClass(a.hideclass),$selectoptions.each(function(){$optioncount+=1,$optionvals.push(e(this).text()),$optionids.push(e(this).attr("value"))}),e("."+$selector).append("<a class='"+a.openmenu+"'>"+a.openmenutext+"</a>\n                                <div class='"+a.clearclass+"'></div><div class='"+a.menucontainer+"'></div>"),e.each($optionvals,function(t,n){e("."+a.menucontainer).append("<a class='"+a.menuitem+"' data='"+$optionids[t]+"'>"+n+"</a>")}),e("."+$selector).delegate("a."+a.menuitem,"click",function(t){e(".Menu").val(e(this).attr("data")),e("a."+a.menuitem).removeClass("active"),e(this).addClass("active"),t.preventDefault()}),e("."+$selector).delegate("a."+a.openmenu,"click",function(o){e(this).hasClass(a.openclass)?(e(this).removeClass(a.openclass),e("."+a.menucontainer).animate({height:0},a.duration)):(e(this).addClass(a.openclass),$total=Math.round($optioncount/n("."+a.menuitem)),$blockheight=t("."+a.menuitem),$newheight=$total*$blockheight,e("."+a.menucontainer).animate({height:$newheight},a.duration)),o.preventDefault()}),this}}(jQuery);